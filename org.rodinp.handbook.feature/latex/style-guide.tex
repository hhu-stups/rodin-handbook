\section{Style Guide}

\info{For now, we will manage the style guide as \LaTeX~together with the rest of the documentation.  We may take it out upon publication.}

\subsubsection{General Stylistic Guidelines}

\begin{itemize}
	\item The Conventions (\ref{conventions}) are part of the style guide.

	\item Use the ``we'' form.

	\item We use British English.
\end{itemize}

\subsubsection{Files}

Files should be saved in the \texttt{files} subdirectory. You can also create a subdirectory. Then, use the definition 

\begin{verbatim} \filepath{1}{2} \end{verbatim} 

to create a link to the file. The definition takes to arguments. The first argument (1) defines the file name i.e. \texttt{Celebrity.zip} or in case if you saved the file in a subdirectory \texttt{subdirecotry/Celebrity.zip}. The second argument (2) defines the name which should be displayed in the document, i.e. ``Celebrity Problem Example Download''.

\warning{Please note, that you only enter the file name without a path before (expected subdirectories). The build script assigns automatically the correct path to the file on the server.}

Here is an example using the definition: \file{Celebrity.zip}{Celebrity Problem Example Download}.

\subsubsection{Images}
\begin{itemize}
	\item Images must be no more than 700 pixels in width (for HTML version)  This is fairly easy for bitmaps (screenshot), pay attention to this regarding how plasTeX converts vector images. (see Latex section below on how to include images)

    \item Screenshots should look neat and consistent.  Horizontal real estate will always be an issue, so please resize the windows before taking the screenshot to keep things readable at 700 pixel width.  (see Latex section below on how to include images)

	\item We use icons from Pixel-Mixer, which are free as long as credit is given: \url{http://www.softicons.com/free-icons/toolbar-icons/basic-icons-by-pixelmixer}

  \item We include Window decoration only when it is really necessary.  If we discuss only some views, we crop the rest away.  Please crop neatly, following edges. If you need a screenshot with window decoration neverthlees we should use always the same Window decoration (i.e. linux ubuntu default decoration style). If you need such a screenshot, please contact Lukas.

  \item Image file names should be all in lower case and not include umlaute or special characters. Use ``\_'' for blanks.

  \item Image files should keep the following rules:
	
\begin{itemize}
		\item Tutorial images should be saved in the sub folder \texttt{img/tutorial} with the prefix ``\texttt{tut\_}'' following the section number. For instance, \texttt{tut\_01\_image1.png}.

		\item FAQ images should be saved in the sub folder \texttt{img/faq} with the prefix ``\texttt{faq\_}''. For instance, \texttt{faq\_image1.png}.

	\end{itemize} 
	\end{itemize} 
\subsubsection{Avoiding Redundancy}

We will reduce (or avoid) redundancy through heavy linking, following these guidelines:

\begin{itemize}
	\item If in doubt, provide the bulk of the information in the Reference section.  For instance, the FAQ entry ``What is Event-B?''  Should simply refer to the Event-B entry in the Reference section.
	\item Web Links should not appear multiple times
	\item Realize web links as footnotes in the Tutorial and FAQ.
	\item Realize web links in a ``See also'' Section in the Reference.
\end{itemize}

\subsubsection{Sections}

\begin{itemize}
	\item We use uppercase for chapter, section, if it refers to a specific one, e.g. ``in Chapter~3''.
	\item Even to subsections we refer to as Section, e.g. ``see Section~2.5''
	\item We have a small number of well-defined chapters, the top level structuring element.
	\item Sections and subsections are numbered.  In the HTML-Versions, they are broken into subpages.
    \item Subsubsections do not receive numbers and are not broken into subpages in the HTML.  Keep this in mind regarding both the reading flow and page sizes.
	\item Avoid linking (ref) to subsubsections, as they don't have a number.  Latex will instead provide a link to the next higher element.  It works, but could create confusion.
	\item Generally, we should avoid gaps in the hierarchy (i.e. having a subsubsection in a section without a subsection in between).\footnote{Coincidentally, this style guide violates this rule. Reason: We want the style guide not broken into subpages, but the proper hierarchy is a section.}
	\item Section labels should be all in lower case. Use ``\_'' for blanks.
	\item We use the prefix ``\texttt{int\_}'' for introduction section labels, ``\texttt{tut\_}'' for tutorial section labels following the section number (i.e. \texttt{tut\_01}) and ``\texttt{faq\_}'' for faq section labels following a short version of the title (i.e. \texttt{faq\_diff\_eventb\_b}). Reference section labels have no prefix.
\end{itemize}

\subsubsection{\LaTeX{} Styling}

\begin{itemize}
	\item Try to avoid fancy \LaTeX formatting, as PlasTeX (used for generating HTML) is temperamental.  Especially macros don't always work, and sometimes the result is just ugly.
	\item We have the option to use different files for PDF and HTML generation, but we would generally prefer not to do this.  Look at \texttt{bsymb.sty} and \texttt{plastex-bsymb.sty} as an example. \textbf{NOTE:} We don't do this any more for any style files.
	\item Every section should have a label, reflecting the section name, all lowercase, spaces replaced with underscores (\_).
	\item Don't create subdirectories in the \texttt{latex} folder, as the scripts cannot always deal with them.
	\item Put images in the \texttt{img} folder.  Feel free to create additional directory structures underneath.
	\item Files other than images (e.g. Event-B projects) TODO - we have to figure out whether to keep them in svn (then they won't be accessible from PDFs) or on the Wiki (then they won't be accessible offline).
	\item Don't use hyperlinks for cross-references, but linked section numbers (generated with \texttt{\\ref{}}.  This is necessary for the print documentation to be useful.
	\item When including images in Latex, do not provide a width!  Instead, try to embed the print size in the image itself.  For instance, PNGs allow you to set the print size (in mm).  This way we can be sure that the images are rendered as HTML without distortion.
\end{itemize}

