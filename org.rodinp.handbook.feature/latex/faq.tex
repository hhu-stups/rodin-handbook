\chapter{Frequently Asked Questions}
\label{faq}

\section{General Questions}

\subsection{What is Event-B?}

Event-B is a formal method for system-level modelling and analysis. Key features of event-B are the use of set theory as a modelling notation, the use of refinement to represent systems at different abstraction levels and the use of mathematical proof to verify consistency between refinement levels.
More details are available in \url{http://www.event-b.org}.

\subsection{What is the difference between Event-B and the B method?}

Event-B (\ref{eventb}) is derived from the \href{http://en.wikipedia.org/wiki/B-Method}{B method}. Both notations have the same \href{http://en.wikipedia.org/wiki/Jean-Raymond_Abrial}{inventor}, and share many common concepts (set-theory, refinement, proof obligations, ...) However, they are used for quite different purpose. The B method is devoted to the development of \textit{correct by construction} software, while the purpose of event-B is to model full systems (including hardware, software and environment of operation).

Both notations use a mathematical language which are quite close but do not match exactly (in particular, operator precedences are different).

\subsection{What is Rodin?}

The \textbf{Rodin Platform} is an Eclipse-based IDE for Event-B that provides effective support for refinement and mathematical proof. The platform is open source, contributes to the Eclipse framework and is further extendable with plugins.

\subsection{Where does the Rodin name come from?}

The Rodin Platform (\ref{rodin_platform}) was initially developed within the European Commission funded Rodin project (IST-511599 ), where Rodin is an acronym for "Rigorous Open Development Environment for Complex Systems‚Äù . Rodin is also the name of a famous French sculptor, one of his most famous work being the \href{http://en.wikipedia.org/wiki/The_Thinker}{Thinker}. 

\section{General Tool Usage}

\subsection{Do I lose my proofs when I clean a project?}
No! This is a common misunderstanding of what a project clean does. A project contains two kinds of files: 

\begin{itemize}
	\item those you can edit: contexts, machines, proofs 
	\item those generated by a project build: proof obligations, proof statuses (roughly speaking, for each proof obligation, discharged or not discharged) 
\end{itemize}

The cleaner just undoes what the builder does, i.e. it removes proof obligations and statuses, but it never modifies any proof.

A status may change from \emph{discharged} to \emph{not discharged} when the proof is no more compatible with the correspondin gproof obligation (because hypotheses changed for instance), but \textbf{the proof itself is still there!}
You can try to \href{http://wiki.event-b.org/index.php/Proof_Obligation_Commands#Proof_Replay_on_Undischarged_POs}{replay} it.

A confusion might arise from the possibility to launch automatic provers upon build. The cleaner does not undo these automatic proofs (why would it ?!!). Once a proof is made, the platform does not modify or delete it by itself. Even \href{http://wiki.event-b.org/index.php/Proof_Purger_Interface#Why_proofs_become_obsolete}{obsolete} proofs are preserved!

\subsection{How do I install external plug-ins without using Eclipse Update Manager?}

Although it is preferable to install additional plug-ins into the Rodin platform using the Update Manager of Eclipse, this might not always be practical. In this case, a manner to install these plug-ins is to emulate either manually or using ad-hoc scripts the operations normally performed by the Update Manager. 

This manual installation of plug-ins is described in \href{http://wiki.event-b.org/index.php/Installing_external_plug-ins_manually}{\emph{Installing external plug-ins manually}}. 

\subsection{The builder takes too long}

Generally, the builder spends most of its time attempting to prove POs. There are basically two ways to get it out of the way: 

\begin{itemize}
	\item the first one is to disable the automated prover in the Preferences panel. 
	\item the second one is to mark some PO as reviewed when you don't want the auto-prover to attempt them anymore. 
\end{itemize}

Note that if you disable the automated prover, you always can run it later on some files by using the contextual menu in the event-B Explorer. 

To disable the automated prover, open Rodin Preferences 
(menu \textsf{Window $\rangle$ Preferences...}). In the tree in the left-hand panel, select \textsf{Event-B $\rangle$ Sequent Prover $\rangle$ Auto-tactic}. Then, in the right-hand panel ensure that the checkbox labelled Enable \textsf{auto-tactic} for proving is disabled. 

To review a proof obligation, just open it in the interactive prover, then click on the \emph{review} button (this is a round blue button with a \emph{R} in the proof control toolbar). The proof obligation should now labelled with the same icon in the event-B explorer. 

\subsection{What are the ASCII shortcuts for mathematical operators}

The ASCII shortcuts that can be used for entering mathematical operators are described in the help of the Rodin keyboard plug-in. In the help system, this page has the following path \textsf{Rodin Keyboard User Guide $\rangle$ Getting Started $\rangle$ Special Combos}. 

This page is also available in the dynamic help system. The advantage of using dynamic help is that it allows to display the help page side-by-side with the other views and editors. To start the dynamic help, click \textsf{Help $\rangle$ Dynamic Help}, then click \textsf{All Topics} and select the page in the tree. 

\subsection{Rodin (and eclipse) doesn't take into account the MOZILLA\_FIVE\_HOME environment variable}

You have to add a properties by appending the following code to your \textsf{eclipse/eclipse.ini} or \textsf{rodin/rodin.ini} file: 

\begin{verbatim} 
	-Dorg.eclipse.swt.browser.XULRunnerPath=/usr/lib/xulrunner/xulrunner-xxx 
\end{verbatim} 

\subsection{No More Handles}

On Windows platforms, it may happen that Rodin crashes, complaining about ``no more handles''. This is an OS specific limitation, described \href{http://journals.jevon.org/users/jevon-phd/entry/19833}{here} and \href{https://bugs.eclipse.org/bugs/show_bug.cgi?id=211124}{there}. A workaround is provided in \href{http://blogs.msdn.com/b/ntdebugging/archive/2007/01/04/desktop-heap-overview.aspx}{this site}. 

\subsection{Software installation fails}

When installing softwares from update sites (\textsf{Help $\rangle$ Install New Software...}) it sometimes fails with an error saying something like: 

\begin{verbatim}
No repository found containing: osgi.bundle,org.eclipse.emf.compare,1.0.1.v200909161031
No repository found containing: osgi.bundle,org.eclipse.emf.compare.diff,1.0.1.v200909161031
...
\end{verbatim}

This is an eclipse/p2 bug, referenced \href{http://stackoverflow.com/questions/511367/error-when-updating-eclipse}{here}. 

The workaround is to: 

\begin{itemize}
	\item Go to \textsf{Window $\rangle$ Preferences $\rangle$ Install/Update $\rangle$ Available Software Sites} 
	\item Remove all sites then add them back again, which can be achieved in the \textsf{Available Software Sites} preference page by: 
	\item Select all update sites (by highlighting them all those that are checked) 
	\item Export them 
	\item Remove them
	\item Restart Rodin
	\item Go back to the preference page and import update sites back (from the previously exported file) 
\end{itemize}

\section{Modeling}

\subsection{Witness for \textsf{Xyz} missing. Default witness generated}

A parameter has disappeared during a refinement. If this is intentional, you have to add a \href{http://wiki.event-b.org/index.php/Witnesses_(Modelling_Language)}{witness} telling how the abstract parameter is refined. 

\subsection{Identifier \textsf{Xyz} should not occur free in a witness}

You refer to \textsf{Xyz} in a witness predicate where \textsf{Xyz} is a disappearing abstract variable or parameter which is not set as the witness label. 

\subsection{In \textsf{INITIALISATION}, I get Witness \textsf{Xyz} must be a disappearing abstract variable or parameter}

The witness is for the after value of the abstract variable, hence you should use the primed variable. The witness label should be \textsf{Xyz'}, and the predicate should refer to \textsf{Xyz'} too. 

\subsection{I've added a witness for \textsf{Xyz} but it keeps saying ``Identifier \textsf{Xyz} has not been defined''}

As specified in the \href{http://wiki.event-b.org/index.php/Witnesses_(Modelling_Language)}{modelling language manual}, the witness must be labelled by the name \textsf{Xyz} of the concrete variable being concerned.

\subsection{What are type expressions in Event-B?}

The type expressions are defined recursively as follows: 

\begin{itemize}
	\item Built-in types: $\intg$ , BOOL (Note that $\nat$ is NOT a type expressions). 
	\item Any carrier set is a type expression. 
	\item If \textit{T} is a type expression then \textit{(T)} is a type expression. 
	\item If \textit{S} and \textit{T} are type expressions then \textit{ST} is a type expression. 
\end{itemize} 

\section{Proving}

\subsection{How can I do a Proof by Induction?}

\href{http://wiki.event-b.org/index.php/Induction_proof}{This page about proof by induction} will give you some starting tips.

\subsection{Labels of proof tree nodes explained}

\begin{itemize}
	\item \textsf{ah} means \textit{add hypothesis},
	\item \textsf{eh} means rewrite with \textit{equality from hypothesis} from left to right,
	\item \textsf{he} means rewrite with \textit{equality from hypothesis} from right to left,
	\item \textsf{rv} tells us that this goal has been manually \href{http://wiki.event-b.org/index.php/The_Proving_Perspective_(Rodin_User_Manual)#The_Proof_Control_Window}{reviewed},
	\item \textsf{sl/ds} means \textit{selection/deselection},
	\item \textsf{PP} means \textit{discharged by the predicate prover},
	\item \textsf{ML} means \textit{discharged by the mono lemma prover}
\end{itemize}

\section{Installation Questions}

\section{Proofer Questions}

\section{Usage Questions}

\subsection{Where did the GUI window go?}

When you are looking for a particular view, and the view does not appear or it appears in a different place than is usual, try clicking on \textsf{Window $\rangle $ Reset Perspective...}. This will reset the different views back to their default positions. If you can't find menu buttons from one of the views, try resizing the view in question to see if part of the menu has been hidden.

\subsection{Where vs. When: What's going on?}

\section{Plug-In Questions}

\section{How to contribute and develop?}

See the \href{http://wiki.event-b.org/index.php/Developer_FAQ}{Developer FAQ} page.
